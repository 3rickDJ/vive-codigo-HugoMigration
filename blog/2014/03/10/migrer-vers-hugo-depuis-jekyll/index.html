<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="map[name:Hugo Authors]"><meta name=description content="Déplacez le contenu statique vers static Jekyll a une règle comme quoi tout répertoire qui ne commence pas par _ sera copié tel-quel dans le répertoire _site. Hugo garde tout le contenu statique dans le répertoire static. Vous devez donc déplacer tout ce type de contenu là-dedans. Avec Jekylll, l&amp;rsquo;arborescence ressemblant à ceci :
▾ &amp;lt;root&amp;gt;/ ▾ images/ logo.png "><meta name=keywords content="programming code languages frameworks podcast video learning makingdevs"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://3rickDJ.github.io/vive-codigo-HugoMigration/blog/2014/03/10/migrer-vers-hugo-depuis-jekyll/><title>ViveCodigo.org - Migrer vers Hugo depuis Jekyll</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/vive-codigo-HugoMigration/main.3d89495748aff88bbfbb2a665d8e1260b3aa63445cd77cc810fb6477aba343dd.css><script src=https://kit.fontawesome.com/f3a7e69c00.js crossorigin=anonymous></script>
<link rel=apple-touch-icon sizes=180x180 href=/vive-codigo-HugoMigration/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/vive-codigo-HugoMigration/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/vive-codigo-HugoMigration/favicon-16x16.png><link rel=manifest href=/vive-codigo-HugoMigration/site.webmanifest><link rel=mask-icon href=/vive-codigo-HugoMigration/safari-pinned-tab.svg color><link rel="shortcut icon" href=/vive-codigo-HugoMigration/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="Migrer vers Hugo depuis Jekyll"><meta itemprop=description content="Déplacez le contenu statique vers static
Jekyll a une règle comme quoi tout répertoire qui ne commence pas par _ sera
copié tel-quel dans le répertoire _site. Hugo garde tout le contenu statique
dans le répertoire static. Vous devez donc déplacer tout ce type de contenu
là-dedans. Avec Jekylll, l&rsquo;arborescence ressemblant à ceci :
▾ <root>/
    ▾ images/
        logo.png
"><meta itemprop=datePublished content="2014-03-10T00:00:00+00:00"><meta itemprop=dateModified content="2014-03-10T00:00:00+00:00"><meta itemprop=wordCount content="864"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Migrer vers Hugo depuis Jekyll"><meta name=twitter:description content="Déplacez le contenu statique vers static
Jekyll a une règle comme quoi tout répertoire qui ne commence pas par _ sera
copié tel-quel dans le répertoire _site. Hugo garde tout le contenu statique
dans le répertoire static. Vous devez donc déplacer tout ce type de contenu
là-dedans. Avec Jekylll, l&rsquo;arborescence ressemblant à ceci :
▾ <root>/
    ▾ images/
        logo.png
"><meta property="article:section" content="Hugo"><meta property="article:section" content="Jekyll"><meta property="article:published_time" content="2014-03-10 00:00:00 +0000 UTC"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>$vive-codigo</span>
<span class=logo__cursor style=background-color:#67a2c9;animation-duration:6s></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><div class=submenu><li class=dropdown><a href=/vive-codigo-HugoMigration/blog>Blog</a></li></div><div class=submenu><li class=dropdown><a href=/vive-codigo-HugoMigration/about>Nosotros</a></li></div></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://3rickDJ.github.io/vive-codigo-HugoMigration/blog/2014/03/10/migrer-vers-hugo-depuis-jekyll/>Migrer vers Hugo depuis Jekyll</a></h2><div class=post-content><h2 id=déplacez-le-contenu-statique-vers-static>Déplacez le contenu statique vers <code>static</code></h2><p>Jekyll a une règle comme quoi tout répertoire qui ne commence pas par <code>_</code> sera
copié tel-quel dans le répertoire <code>_site</code>. Hugo garde tout le contenu statique
dans le répertoire <code>static</code>. Vous devez donc déplacer tout ce type de contenu
là-dedans. Avec Jekylll, l&rsquo;arborescence ressemblant à ceci :</p><pre><code>▾ &lt;root&gt;/
    ▾ images/
        logo.png
</code></pre><p>doit devenir</p><pre><code>▾ &lt;root&gt;/
    ▾ static/
        ▾ images/
            logo.png
</code></pre><p>En outre, vous allez devoir déplacer tous les fichiers présents à la racine vers
le répertoire <code>static</code>.</p><h2 id=créez-votre-configuration-hugo>Créez votre configuration Hugo</h2><p>Hugo peut lire votre fichier de configuration au format JSON, YAML et TOML. Hugo
supporte également les paramètres de configuration. Plus d&rsquo;informations sur la
<a href=/overview/configuration/>documentation de configuration Hugo</a></p><h2 id=définiez-votre-répertoire-de-publication-sur-_site>Définiez votre répertoire de publication sur <code>_site</code></h2><p>La valeur par défaut pour Jekyll est d&rsquo;utiliser le répertoire <code>_site</code> pour
publier le contenu. Pour Hugo, le répertoire de publication est <code>public</code>. Si,
comme moi, vous avez [lié <code>_site</code> vers un sous-module git sur la branche
<code>gh-pages</code>](<a href=http://blog.blindgaenger.net/generate_github_pages_in_a_submodule.ht>http://blog.blindgaenger.net/generate_github_pages_in_a_submodule.ht</a>
ml), vous allez vouloir avoir quelques alternatives :</p><ol><li><p>Changez votre lien du sous-module <code>gh-pages</code> pour pointer sur public au lieu
de <code>_site</code> (recommendé).</p><pre><code> git submodule deinit _site
 git rm _site
 git submodule add -b gh-pages
     git@github.com:your-username/your-repo.git public
</code></pre></li><li><p>Ou modifiez la configuration de Hugo pour utiliser le répertoire <code>_site</code> au
lieu de <code>public</code>.</p><pre><code> {
     ..
     &quot;publishdir&quot;: &quot;_site&quot;,
     ..
 }
</code></pre></li></ol><h2 id=convertir-un-thème-jekyll-pour-hugo>Convertir un thème Jekyll pour Hugo</h2><p>C&rsquo;est la majeure partie du travail. La documentation est votre ami.
Vous devriez vous référer à [la documentation des thèmes de Jekyll]
(<a href=http://jekyllrb.com/docs/templates/>http://jekyllrb.com/docs/templates/</a>) si vous devez vous rafraîchir la mémoire
sur la façon dont vous avez construit votre blog et [les thèmes de Hugo]
(/layout/templates/) pour apprendre la manière de faire sur Hugo.</p><p>Pour vous donner un point de référence, la conversion du thème pour
<a href=http://heyitsalex.net/>heyitsalex.net</a> ne m&rsquo;a pris que quelques heures.</p><h2 id=convertir-les-extensions-jekyll-vers-des-shortcodes-hugo>Convertir les extensions Jekyll vers des shortcodes Hugo</h2><p>Jekyll support les <a href=http://jekyllrb.com/docs/plugins/>extensions</a>; Hugo lui a
les <a href=/doc/shortcodes/>shortcodes</a>. C&rsquo;est assez banal les porter.</p><h3 id=implémentation>Implémentation</h3><p>Comme exemple, j&rsquo;utilise une extension pour avoir un [<code>image_tag</code>](https://githu
b.com/alexandre-normand/alexandre-normand/blob/74bb12036a71334fdb7dba84e073382fc
06908ec/_plugins/image_tag.rb) presonnalisé pour générer les images avec une
légende sur Jekyll. J&rsquo;ai vu que Hugo implémente un shortcode qui fait exactement
la même chose.</p><p>Extension Jekyll :</p><pre tabindex=0><code>module Jekyll
  class ImageTag &lt; Liquid::Tag
    @url = nil
    @caption = nil
    @class = nil
    @link = nil
    // Patterns
    IMAGE_URL_WITH_CLASS_AND_CAPTION =
    IMAGE_URL_WITH_CLASS_AND_CAPTION_AND_LINK =
        /(\w+)(\s+)((https?:\/\/|\/)(\S+))(\s+)&#34;(.*?)&#34;(\s+)-&gt;
        ((https?:\/\/|\/)(\S+))(\s*)/i
    IMAGE_URL_WITH_CAPTION = /((https?:\/\/|\/)(\S+))(\s+)&#34;(.*?)&#34;/i
    IMAGE_URL_WITH_CLASS = /(\w+)(\s+)((https?:\/\/|\/)(\S+))/i
    IMAGE_URL = /((https?:\/\/|\/)(\S+))/i
    def initialize(tag_name, markup, tokens)
      super
      if markup =~ IMAGE_URL_WITH_CLASS_AND_CAPTION_AND_LINK
        @class   = $1
        @url     = $3
        @caption = $7
        @link = $9
      elsif markup =~ IMAGE_URL_WITH_CLASS_AND_CAPTION
        @class   = $1
        @url     = $3
        @caption = $7
      elsif markup =~ IMAGE_URL_WITH_CAPTION
        @url     = $1
        @caption = $5
      elsif markup =~ IMAGE_URL_WITH_CLASS
        @class = $1
        @url   = $3
      elsif markup =~ IMAGE_URL
        @url = $1
      end
    end
    def render(context)
      if @class
        source = &#34;&lt;figure class=&#39;#{@class}&#39;&gt;&#34;
      else
        source = &#34;&lt;figure&gt;&#34;
      end
      if @link
        source += &#34;&lt;a href=\&#34;#{@link}\&#34;&gt;&#34;
      end
      source += &#34;&lt;img src=\&#34;#{@url}\&#34;&gt;&#34;
      if @link
        source += &#34;&lt;/a&gt;&#34;
      end
      source += &#34;&lt;figcaption&gt;#{@caption}&lt;/figcaption&gt;&#34; if @caption
      source += &#34;&lt;/figure&gt;&#34;
      source
    end
  end
end
Liquid::Template.register_tag(&#39;image&#39;, Jekyll::ImageTag)
</code></pre><p>Écrite en tant que shortcode Hugo:</p><pre tabindex=0><code>&lt;!-- image --&gt;
&lt;figure {{ with .Get &#34;class&#34; }}class=&#34;{{.}}&#34;{{ end }}&gt;
    {{ with .Get &#34;link&#34;}}&lt;a href=&#34;{{.}}&#34;&gt;{{ end }}
        &lt;img src=&#34;{{ .Get &#34;src&#34; }}&#34;
            {{ if or (.Get &#34;alt&#34;) (.Get &#34;caption&#34;) }}
                alt=&#34;{{ with .Get &#34;alt&#34;}}
                        {{.}}
                     {{else}}
                        {{ .Get &#34;caption&#34; }}
                     {{ end }}&#34;
               {{ end }} /&gt;
    {{ if .Get &#34;link&#34;}}&lt;/a&gt;{{ end }}
    {{ if or (or (.Get &#34;title&#34;) (.Get &#34;caption&#34;)) (.Get &#34;attr&#34;)}}
    &lt;figcaption&gt;{{ if isset .Params &#34;title&#34; }}
        {{ .Get &#34;title&#34; }}{{ end }}
        {{ if or (.Get &#34;caption&#34;) (.Get &#34;attr&#34;)}}&lt;p&gt;
        {{ .Get &#34;caption&#34; }}
        {{ with .Get &#34;attrlink&#34;}}&lt;a href=&#34;{{.}}&#34;&gt; {{ end }}
            {{ .Get &#34;attr&#34; }}
        {{ if .Get &#34;attrlink&#34;}}&lt;/a&gt; {{ end }}
        &lt;/p&gt; {{ end }}
    &lt;/figcaption&gt;
    {{ end }}
&lt;/figure&gt;
&lt;!-- image --&gt;
</code></pre><h3 id=utilisation>Utilisation</h3><p>J&rsquo;ai simplement changé :</p><pre tabindex=0><code>{% image
    full http://farm5.staticflickr.com/4136/4829260124_57712e570a_o_d.jpg
    &#34;One of my favorite touristy-type photos. I secretly waited for the
    good light while we were &#34;having fun&#34; and took this. Only regret: a
    stupid pole in the top-left corner of the frame I had to clumsily get
    rid of at post-processing.&#34;
    -&gt;http://www.flickr.com/photos/alexnormand/4829260124/in/
        set-72157624547713078/ %}
</code></pre><p>pour cela (cet exemple utilise une version légèrement étendue nommée <code>fig</code>,
différente de la <code>figure</code> intégrée) :</p><pre tabindex=0><code>{{% fig class=&#34;full&#34;
    src=&#34;http://farm5.staticflickr.com/4136/4829260124_57712e570a_o_d.jpg&#34;
    title=&#34;One of my favorite touristy-type photos. I secretly waited for the
    good light while we were having fun and took this. Only regret: a stupid
    pole in the top-left corner of the frame I had to clumsily get rid of at
    post-processing.&#34;
    link=&#34;http://www.flickr.com/photos/alexnormand/4829260124/in/
            set-72157624547713078/&#34; %}}
</code></pre><p>Comme bonus, les paramètres nommés des shortcodes sont plus lisibles.</p><h2 id=touches-finales>Touches finales</h2><h3 id=corriger-le-contenu>Corriger le contenu</h3><p>Suivant le nombre de modifications que vous avez effectué sur chaque articles
avec Jekyll, cette étape requierra plus ou moins d&rsquo;efforts. Il n&rsquo;y a pas de
règles rigoureuses ici, si ce n&rsquo;est que <code>hugo server --watch</code> est votre ami.
Testez vos modifications et corrigez les erreurs au besoin.</p><h3 id=nettoyez-le-tout>Nettoyez le tout</h3><p>Vous voudrez sûrement supprimer votre configuration Jekyll maintenant que tout
est fini. Exact, pensez à supprimer tout ce qui est inutilisé.</p><h2 id=un-exemple-pratique>Un exemple pratique</h2><p><a href=http://heyitsalex.net/>Hey, it&rsquo;s Alex</a> a été migré de Jekyll vers Hugo en
moins de temps qu&rsquo;une journée père enfant. Vous pouvez trouver toutes les
modification en regardant ce [diff](<a href=https://github.com/alexandre-normand/alexand>https://github.com/alexandre-normand/alexand</a>
re-normand/compare/869d69435bd2665c3fbf5b5c78d4c22759d7613a&mldr;b7f6605b1265e83b4b
81495423294208cc74d610).</p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg><span class=tag><a href=https://3rickDJ.github.io/vive-codigo-HugoMigration/categories/hugo/>Hugo</a></span>
<span class=tag><a href=https://3rickDJ.github.io/vive-codigo-HugoMigration/categories/jekyll/>Jekyll</a></span></p></div><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//vivecodigo.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></main></div><footer class=footer><div class=footer__inner><ul class=icons><li><a href=https://twitter.com/4s3ti/ class="icon fa-brands fa-twitter" target=_blank rel=noopener title=Twitter></a></li><li><a href=https://www.instagram.com/c4colaco/ class="icon fa-brands fa-instagram" target=_blank rel=noopener title=Instagram></a></li></ul></div><div class=footer__inner><span>&copy;2022</span>&nbsp;
<span><a href=https://3rickDJ.github.io/vive-codigo-HugoMigration>MakingDevs</a></span>&nbsp;
<span>All rights reserved</span></div><div class=footer__inner></div></footer></div><script type=text/javascript src=/vive-codigo-HugoMigration/bundle.min.bb2c6bc3ed452ca4759660e4020811f248bc2320081559e8a32d8b0092773852941133639d35e8370d03d3ddaa750b1edd6b343c5bd22a55d5bdeae8f648f49b.js integrity="sha512-uyxrw+1FLKR1lmDkAggR8ki8IyAIFVnooy2LAJJ3OFKUETNjnTXoNw0D092qdQse3Ws0PFvSKlXVvero9kj0mw=="></script></body></html>